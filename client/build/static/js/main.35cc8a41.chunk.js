(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(54),r=n.n(s),a=n(8),i=n(6),o=n(9),l=n(4),j=(n(64),n(65),n.p+"static/media/logo.b62cb49c.png"),d=n(16),u=n(18),b=n.n(u),p=n(15),h=n(14),x=n(0);function O(e){var t=e.where,n=Object(c.useState)(!1),s=Object(l.a)(n,2),r=s[0],a=s[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],O=o[1];function m(){O(!u)}return Object(x.jsxs)("nav",{id:"nav-container",children:[Object(x.jsxs)("div",{id:"nav-paths",children:[Object(x.jsx)(d.b,{to:"/home",className:"stay",children:Object(x.jsx)("img",{src:j,alt:"Logo of this website."})}),Object(x.jsxs)(d.b,{to:"/home",className:"home"===t?"selected":null,children:[Object(x.jsx)(p.a,{icon:h.j}),Object(x.jsx)("span",{children:"\xa0Home"})]}),Object(x.jsxs)(d.b,{to:"/shop",className:"shop"===t?"selected":null,children:[Object(x.jsx)(p.a,{icon:h.c}),Object(x.jsx)("span",{children:"\xa0Shop"})]}),Object(x.jsxs)(d.b,{to:"/thursdaywall",className:"thursdaywall"===t?"selected":null,children:[Object(x.jsx)(p.a,{icon:h.h}),Object(x.jsx)("span",{children:"\xa0Thursday Wall"})]}),Object(x.jsx)("div",{id:"nav-burger",onClick:m,children:Object(x.jsx)(p.a,{icon:h.b})})]}),Object(x.jsxs)("div",{id:"nav-customer",children:[Object(x.jsxs)("div",{id:"nav-customer-about",onClick:function(){a(!r)},children:[r?Object(x.jsx)(p.a,{icon:h.d}):Object(x.jsx)(p.a,{icon:h.f}),Object(x.jsxs)("div",{id:"nav-more",children:[Object(x.jsx)("span",{children:"More"}),r?Object(x.jsxs)("div",{id:"nav-more-hidden",children:[Object(x.jsxs)(d.b,{to:"/about",className:"nav-more-hidden-content",children:[Object(x.jsx)(p.a,{icon:h.e}),Object(x.jsx)("span",{children:"About us"})]}),Object(x.jsxs)(d.b,{to:"/localisation",className:"nav-more-hidden-content",children:[Object(x.jsx)(p.a,{icon:h.k}),Object(x.jsx)("span",{children:"Localisation"})]})]}):null]})]}),b.a.get("token")?Object(x.jsx)("div",{id:"nav-customer-infos",children:Object(x.jsxs)(d.b,{to:"/myaccount",className:"myaccount"===t?"selected":null,children:[Object(x.jsx)(p.a,{icon:h.m}),Object(x.jsx)("span",{children:"\xa0Account"})]})}):Object(x.jsx)("div",{id:"nav-customer-infos",children:Object(x.jsxs)(d.b,{to:"/signin",children:[Object(x.jsx)(p.a,{icon:h.m}),Object(x.jsx)("span",{children:"\xa0Sign in"})]})})]}),u?Object(x.jsxs)("div",{id:"nav-burger-menu-container",children:[Object(x.jsx)("div",{id:"close",onClick:m,children:Object(x.jsx)(p.a,{icon:h.n})}),Object(x.jsx)(d.b,{to:"/home",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.j}),"Home"]})}),Object(x.jsx)(d.b,{to:"/shop",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.c}),"Shop"]})}),Object(x.jsx)(d.b,{to:"/thursdaywall",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.h}),"Thursday Wall"]})}),b.a.get("token")?Object(x.jsx)(d.b,{to:"/myaccount",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.m}),"Account"]})}):Object(x.jsx)(d.b,{to:"/signin",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.m}),"Sign in"]})}),Object(x.jsx)(d.b,{to:"/about",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.e}),"About us"]})}),Object(x.jsx)(d.b,{to:"/localisation",children:Object(x.jsxs)("nobr",{children:[Object(x.jsx)(p.a,{icon:h.k}),"Localisation"]})})]}):null]})}var m=n.p+"static/media/vinyl.a8123a79.png";n(69);function f(e){var t=e.text,n=e.handler,c=e.persostyle,s=e.type;return Object(x.jsx)("button",{type:s||null,id:"genbutton-btn",onClick:n,style:c,children:Object(x.jsx)("nobr",{children:t})})}var v=n(116);function g(){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("token");case 2:if(!(t=e.sent)){e.next=14;break}return e.next=6,v.a.post("/getUserData",{token:t});case 6:if((n=e.sent).data){e.next=13;break}return e.next=10,b.a.remove("token");case 10:window.location="/myaccount",e.next=14;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("token");case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,v.a.post("/insertWishListItem",{itemid:t,token:n});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("token");case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,v.a.post("/removeWishListItem",{itemid:t,token:n});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(o.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("token");case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,v.a.post("/getUserWishList",{token:t});case 6:return n=e.sent,e.abrupt("return",n.data.wishlist);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return 777===e.permission}function C(){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/getItems");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(Object(i.a)().mark((function e(t){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/getItem?id=".concat(t));case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(o.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getAlaffiche");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var L=n(117);function F(e){var t=e.color,n=e.radius,c=e.speedMultiplier,s=e.height,r=e.width;e.loading;return Object(x.jsx)("div",{className:"loader",children:Object(x.jsx)(L.a,{color:null!==t&&void 0!==t?t:"black",height:null!==s&&void 0!==s?s:80,radius:null!==n&&void 0!==n?n:4,speedMultiplier:null!==c&&void 0!==c?c:1.1,width:null!==r&&void 0!==r?r:50})})}var W=n(50),D=(n(73),n(74),n(75),n(76),n(26));function q(e){var t=e.data;return Object(x.jsx)("div",{id:"slider-container",children:Object(x.jsx)(W.a,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:!0,modules:[D.a,D.b],className:"mySwiper",children:t?Object(x.jsx)("div",{id:"slider-card-container",children:t.map((function(e,t){return Object(x.jsxs)(W.b,{onClick:function(){var t;t=e.id,window.location="/shop/product?id=".concat(t)},children:[e.promotion>0?Object(x.jsx)("span",{className:"promotion",children:"DISCOUNT"}):null,Object(x.jsx)("img",{src:"data:".concat(e.imgtype,";base64,").concat(e.b64),alt:e.name}),Object(x.jsxs)("span",{children:[e.name," ",Object(x.jsxs)("span",{className:"desc",children:["from ",e.album]})]}),Object(x.jsx)("span",{children:e.artist}),e.promotion>0?Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{style:{textDecoration:"line-through",color:"red",fontWeight:"bold"},children:[e.price,"\u20ac"]}),Object(x.jsxs)("span",{children:["\xa0\u279c ",e.price-e.price*e.promotion/100,"\u20ac"]})]}):Object(x.jsxs)("span",{children:[e.price,"\u20ac"]})]},t)}))}):null})})}function I(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(null),a=Object(l.a)(r,2),j=a[0],u=a[1];return Object(c.useEffect)((function(){b.a.get("token")&&g().then((function(e){s(e.data)})),function(){return P.apply(this,arguments)}().then(function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],c=0;case 2:if(!(c<=t.items.length-1)){e.next=8;break}return e.next=5,E(t.items[c]).then((function(e){n.push(e)}));case 5:c++,e.next=2;break;case 8:return e.next=10,u(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.title="French Connection | Home"}),[]),Object(x.jsxs)("div",{id:"home-container",children:[Object(x.jsx)(O,{where:"home"}),Object(x.jsxs)("main",{id:"home-vinyl-container",children:[n?Object(x.jsxs)("span",{children:["Hello ",n.user," !"]}):null,j?Object(x.jsxs)("div",{id:"home-alaffiche-container",children:[Object(x.jsx)("span",{className:"alaffiche-title",children:"A l'affiche"}),Object(x.jsx)(q,{data:j})]}):Object(x.jsx)(F,{}),Object(x.jsxs)("div",{id:"home-vinyl-turn-container",children:[Object(x.jsx)("span",{className:"selection-title",children:"Selection"}),Object(x.jsxs)("div",{id:"home-vinyl-turn",children:[Object(x.jsx)("img",{src:m,id:"home-vinyl",alt:"vinyl qui tourne"}),Object(x.jsx)(d.b,{to:"/shop",id:"home-order",children:Object(x.jsx)(f,{text:"Click here",persostyle:{width:"100px",height:"50px"}})})]})]})]})]})}n(77);var R=n.p+"static/media/pub.8fbcf98c.jpg";n(78);function M(e){var t=e.show,n=e.title,c=e.text,s=e.close;return t?Object(x.jsx)("div",{className:"popup-container",children:Object(x.jsxs)("div",{className:"popup-content",children:[Object(x.jsx)("h3",{children:n}),Object(x.jsx)("p",{children:c}),Object(x.jsx)("button",{onClick:s,children:"Fermer"})]})}):null}n(51);var H=n(55),T=n.n(H);function U(e){return new Promise((function(t,n){t(T.a.SHA256(e).toString())}))}function $(){Object(c.useEffect)((function(){b.a.get("token")&&(window.location="/myaccount"),document.title="French Connection | Sign In"}),[]);var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(l.a)(r,2),j=a[0],d=a[1],u=Object(c.useState)(""),p=Object(l.a)(u,2),h=p[0],m=p[1],g=Object(c.useState)(""),w=Object(l.a)(g,2),y=w[0],N=w[1],k=Object(c.useState)(""),S=Object(l.a)(k,2),C=S[0],_=S[1],E=Object(c.useState)(""),A=Object(l.a)(E,2),P=A[0],L=A[1],F=Object(c.useState)(!0),W=Object(l.a)(F,2),D=W[0],q=W[1],I=Object(c.useState)(""),H=Object(l.a)(I,2),T=H[0],$=H[1],B=Object(c.useState)(""),V=Object(l.a)(B,2),J=V[0],z=V[1],K=Object(c.useState)(de()),Q=Object(l.a)(K,2),Y=Q[0],G=Q[1],X=Object(c.useState)(""),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1],ne=Object(c.useState)(!1),ce=Object(l.a)(ne,2),se=ce[0],re=ce[1],ae=Object(c.useState)({title:"",text:"",show:!1}),ie=Object(l.a)(ae,2),oe=ie[0],le=ie[1];function je(e,t){le({title:e,text:t,show:!0})}function de(){var e=Math.floor(21*Math.random()),t=Math.floor(21*Math.random());return{exp:"Write the answer of ".concat(e," + ").concat(t),res:e+t}}function ue(e,t){var n=new Date,c=n.getFullYear(),s=("0"+(n.getMonth()+1)).slice(-2),r=("0"+n.getDate()).slice(-2),a=("0"+n.getHours()).slice(-2),i=("0"+n.getMinutes()).slice(-2),o=("0"+n.getSeconds()).slice(-2);L("".concat(c,"-").concat(s,"-").concat(r," ").concat(a,":").concat(i,":").concat(o)),t(e.target.value)}function be(){return(be=Object(o.a)(Object(i.a)().mark((function e(){var t,n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Y.res!==parseInt(ee)){e.next=20;break}return e.next=4,U(J);case 4:return t=e.sent,e.next=7,v.a.post("/login",{user:T,passwd:t});case 7:return n=e.sent,e.next=10,n.data;case 10:if(!(c=e.sent).response){e.next=17;break}b.a.set("token",c.token,{expires:se?999:1}),je("Bonjour ".concat(c.username," !"),"Vous allez etre redirige vers la page d'accueil ..."),setTimeout((function(){window.location="/home"}),1500),e.next=18;break;case 17:return e.abrupt("return",je("Error","E-mail or password is wrong"));case 18:e.next=21;break;case 20:return e.abrupt("return",je("Error CAPTCHA","Wrong answer."));case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",je("Error!","An error occurred."));case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}function pe(){return(pe=Object(o.a)(Object(i.a)().mark((function e(){var t,c,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C===j){e.next=2;break}return e.abrupt("return",je("Error !","Passwords must be same."));case 2:if(n.includes("@")&&n.includes(".")){e.next=4;break}return e.abrupt("return",je("Error !","An email must contain an @ and a dot."));case 4:if(!(j.length<3)){e.next=6;break}return e.abrupt("return",je("Error !","Password must be 15 characters long."));case 6:if(![n,y,h].some((function(e){return 0===e.length}))){e.next=8;break}return e.abrupt("return",je("Error !","All fields must be filled in."));case 8:if(Y.res===parseInt(ee)){e.next=10;break}return e.abrupt("return",je("Error CAPTCHA !","Wrong answer."));case 10:return e.prev=10,e.next=13,v.a.post("/crypt",{sentence:j});case 13:return t=e.sent,e.next=16,t.data;case 16:return c=e.sent,e.next=19,c.cryptedSentence;case 19:return s=e.sent,e.next=22,v.a.post("/register",{user:y,password:s,email:n,phone:h,created:P});case 22:return r=e.sent,e.next=25,r.data;case 25:if(!e.sent.response){e.next=30;break}return e.abrupt("return",je("Success!","Account created."));case 30:return e.abrupt("return",je("Error!","Someone has already registered with this email/username."));case 31:e.next=37;break;case 33:return e.prev=33,e.t0=e.catch(10),console.error(e.t0),e.abrupt("return",je("Error!","An error occurred."));case 37:case"end":return e.stop()}}),e,null,[[10,33]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{id:"customers-container",children:[Object(x.jsx)(O,{where:"signin"}),Object(x.jsx)(M,{show:oe.show,title:oe.title,text:oe.text,close:function(){le({title:"",text:"",show:!1})}}),Object(x.jsx)("div",{id:"customers-form-container",children:Object(x.jsxs)("div",{id:"customers-form-connexion",children:[D?Object(x.jsxs)("div",{id:"customers-form-login",children:[Object(x.jsx)("span",{children:"Login"}),Object(x.jsxs)("div",{id:"customers-form-login-same",children:[Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-login-email",className:"input__field",type:"text",onChange:function(e){ue(e,$)}}),Object(x.jsx)("span",{className:"input__label",children:"E-mail / Username"})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-login-username",className:"input__field",type:"password",onChange:function(e){ue(e,z)}}),Object(x.jsx)("span",{className:"input__label",children:"Password"})]})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-login-captcha",className:"input__field",type:"text",onChange:function(e){ue(e,te)}}),Object(x.jsxs)("span",{className:"input__label",children:[" ",Y.exp," "]})]}),Object(x.jsxs)("label",{htmlFor:"remember",id:"customer-login-remember",children:[Object(x.jsx)("span",{children:"Remember me"}),Object(x.jsx)("input",{name:"remember",type:"checkbox",onChange:function(){re(!se)}}),Object(x.jsx)("div",{className:"checkmark"})]}),Object(x.jsxs)("div",{id:"customers-btn-container",children:[Object(x.jsx)(f,{className:"register customers-btn",text:"Login now",handler:function(){return be.apply(this,arguments)},persostyle:{width:"90px",height:"50px"}}),Object(x.jsx)(f,{text:"Register here",className:"login customers-btn",handler:function(){q(!1),m(""),d(""),_(""),s(""),N(""),L(""),te(""),$(""),z(""),G(de())},persostyle:{width:"90px",height:"50px"}})]})]}):Object(x.jsxs)("div",{id:"customers-form-register",children:[Object(x.jsxs)("span",{children:["Registration",Object(x.jsx)("span",{className:"mustt",children:" * is require"})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-email",className:"input__field",type:"email",onChange:function(e){ue(e,s)}}),Object(x.jsxs)("span",{className:"input__label",children:["E-mail",Object(x.jsx)("span",{className:"must",children:" *"})]})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-username",className:"input__field",type:"text",onChange:function(e){ue(e,N)}}),Object(x.jsxs)("span",{className:"input__label",children:["Username",Object(x.jsx)("span",{className:"must",children:" *"})]})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-phone",className:"input__field",type:"tel",onChange:function(e){ue(e,m)}}),Object(x.jsx)("span",{className:"input__label",children:"Phone number"})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-pass",className:"input__field",type:"password",onChange:function(e){ue(e,d)}}),Object(x.jsxs)("span",{className:"input__label",children:["Password",Object(x.jsx)("span",{className:"must",children:" *"})]})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-passconf",className:"input__field",type:"password",onChange:function(e){ue(e,_)}}),Object(x.jsxs)("span",{className:"input__label",children:["Confirm Password",Object(x.jsx)("span",{className:"must",children:" *"})]})]}),Object(x.jsxs)("label",{className:"input",children:[Object(x.jsx)("input",{id:"customers-login-captcha",className:"input__field",type:"text",onChange:function(e){ue(e,te)}}),Object(x.jsxs)("span",{className:"input__label",children:[" ",Y.exp,Object(x.jsx)("span",{className:"must",children:" *"})]})]}),Object(x.jsxs)("div",{id:"customers-btn-container",children:[Object(x.jsx)(f,{text:"Register now",className:"register customers-btn",handler:function(){return pe.apply(this,arguments)},persostyle:{width:"90px",height:"50px"}}),Object(x.jsx)(f,{text:"Login here",className:"login customers-btn",handler:function(){q(!0),$(""),z(""),te(""),G(de()),m(""),d(""),_(""),s(""),N(""),L(""),te(""),G(de())},persostyle:{width:"90px",height:"50px"}})]})]}),Object(x.jsx)("div",{id:"customers-form-pub",children:Object(x.jsx)("img",{id:"customers-form-pub-yanti",src:R,alt:"publicite"})})]})})]})}var B=n(7);n(104),n(105);function V(e){var t=e.placeholder,n=e.oc,c=e.name,s=e.type;return Object(x.jsx)("input",{className:"textfields-input",name:c||null,type:null!==s&&void 0!==s?s:"search",placeholder:t||"...",onChange:n?function(e){n(e)}:null})}function J(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)({}),a=Object(l.a)(r,2),i=a[0],o=a[1],j=Object(c.useState)(0),d=Object(l.a)(j,2),u=d[0],b=d[1],p=Object(c.useState)(!1),h=Object(l.a)(p,2),m=h[0],v=h[1],g=Object(c.useState)(!1),w=Object(l.a)(g,2),y=w[0],N=w[1],k=Object(c.useState)(!1),S=Object(l.a)(k,2),_=S[0],E=S[1],A=Object(c.useState)(!1),P=Object(l.a)(A,2),L=P[0],W=P[1];function D(){if(y)return b(0),o(T(n,8)),void N(!y);E(!1),W(!1),v(!1);var e=Object(B.a)(n);return e.sort((function(e,t){return e.price-t.price})),b(0),o(T(e,8)),void N(!y)}function q(){if(_)return b(0),o(T(n,8)),void E(!_);N(!1),v(!1),W(!1);var e=Object(B.a)(n);return e.sort((function(e,t){return e.price<t.price?1:-1})),b(0),o(T(e,8)),void E(!_)}function I(){if(L)return b(0),o(T(n,8)),void W(!L);N(!1),v(!1),E(!1);var e=[];return n.forEach((function(t){t.qte>0&&e.push(t)})),b(0),o(T(e,8)),void W(!L)}function R(){if(m)return b(0),o(T(n,8)),void v(!m);N(!1),E(!1),W(!1);var e=[];return n.forEach((function(t){t.promotion&&t.qte>0&&e.push(t)})),b(0),o(T(e,8)),void v(!m)}function M(){i[u+1]&&b(u+1)}function H(){i[u-1]&&b(u-1)}function T(e,t){for(var n=[],c=0;c<e.length;c+=t)n.push(e.slice(c,c+t));return n}return Object(c.useEffect)((function(){document.title="French Connection | Shop",C().then((function(e){console.log(e),s(e),o(T(e,8))}))}),[]),Object(x.jsxs)("div",{id:"shop-container",children:[Object(x.jsx)(O,{where:"shop"}),Object(x.jsxs)("div",{id:"shop-pagination",children:[Object(x.jsxs)("div",{id:"shop-search",children:[Object(x.jsx)("div",{id:"shop-searching",children:Object(x.jsx)(V,{oc:function(e){!function(e){b(0);var t=e.target.value;if(""!==t){var c=[];n.forEach((function(e){(e.artist.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase()))&&c.push(e)})),o(T(c,8))}else o(T(n,8))}(e)},placeholder:"Search"})}),Object(x.jsxs)("div",{id:"shop-filters",children:[m?Object(x.jsx)(f,{text:"Promotion",persostyle:{background:"green",color:"white",fontWeight:"bold",width:"90px"},handler:R}):Object(x.jsx)(f,{text:"Promotion",persostyle:{background:"red",color:"white",fontWeight:"bold",width:"90px"},handler:R}),y?Object(x.jsx)(f,{text:"- au + cher",persostyle:{background:"green",color:"white",fontWeight:"bold",width:"90px"},handler:D}):Object(x.jsx)(f,{text:"- au + cher",persostyle:{background:"red",color:"white",fontWeight:"bold",width:"90px"},handler:D}),_?Object(x.jsx)(f,{text:"+ au - cher",persostyle:{background:"green",color:"white",fontWeight:"bold",width:"90px"},handler:q}):Object(x.jsx)(f,{text:"+ au - cher",persostyle:{background:"red",color:"white",fontWeight:"bold",width:"90px"},handler:q}),L?Object(x.jsx)(f,{text:"in Stock",persostyle:{background:"green",color:"white",fontWeight:"bold",width:"90px"},handler:I}):Object(x.jsx)(f,{text:"in Stock",persostyle:{background:"red",color:"white",fontWeight:"bold",width:"90px"},handler:I})]})]}),Object(x.jsxs)("div",{id:"shop-pagination-index",children:[Object(x.jsx)(f,{text:"Previous",handler:H,persostyle:{width:"90px"}}),Object(x.jsx)(f,{text:"Next",handler:M,persostyle:{width:"90px"}})]})]}),Object(x.jsx)("div",{id:"shop-content",children:Object(x.jsxs)("div",{id:"shop-items",children:[i.length>0?i[u].map((function(e,t){return Object(x.jsxs)("div",{className:"shop-item",onClick:function(){var t;t=e.id,window.location="/shop/product?id=".concat(t)},children:[Object(x.jsx)("img",{src:"data:".concat(e.imgtype,";base64,").concat(e.b64),alt:e.name}),Object(x.jsx)("span",{className:"info info-name",children:e.name}),Object(x.jsx)("span",{className:"info info-artist",children:e.artist}),e.qte>0?Object(x.jsx)("div",{children:null!=e.promotion?Object(x.jsxs)("span",{className:"info info-price",children:[Object(x.jsxs)("span",{style:{textDecoration:"line-through",color:"red",fontWeight:"bold"},children:[e.price,"\u20ac"]}),"\xa0\u279c ",Object(x.jsxs)("span",{children:[e.price-e.price*e.promotion/100,"\u20ac"]})]}):Object(x.jsxs)("span",{className:"info info-price",children:[e.price,"\u20ac"]})}):Object(x.jsx)("span",{className:"info info-price",style:{background:"red"},children:"Out of stock"})]},e.id)})):Object(x.jsx)(F,{}),Object(x.jsxs)("div",{className:"shop-pagination-index-prime",children:[Object(x.jsx)(f,{text:"Previous",handler:H,persostyle:{width:"90px"}}),Object(x.jsx)(f,{text:"Next",handler:M,persostyle:{width:"90px"}})]})]})})]})}n(106);function z(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),a=Object(l.a)(r,2),i=a[0],o=a[1];function j(){window.location="/shop"}return Object(c.useEffect)((function(){try{var e=window.location.href.split("?")[1];E(parseInt(e.split("=")[1])).then((function(e){s(e),function(){return k.apply(this,arguments)}().then((function(t){t&&t.forEach((function(t){t.itemid===e.id&&o(!0)}))}))}))}catch(t){window.location="/shop"}}),[]),Object(x.jsxs)("div",{id:"product-container",children:[Object(x.jsx)(O,{where:"shop"}),n?Object(x.jsxs)("div",{id:"product-infos",children:[Object(x.jsxs)("div",{id:"product-img",children:[b.a.get("token")?Object(x.jsx)("div",{id:"product-wishlist",onClick:function(){i?function(e){return N.apply(this,arguments)}(n.id).then((function(){window.location.reload()})):function(e){return y.apply(this,arguments)}(n.id).then((function(){window.location.reload()}))},children:Object(x.jsx)(p.a,{className:i?"icon activate":"icon desactivate",icon:h.i})}):null,Object(x.jsx)("img",{src:"data:".concat(n.imgtype,";base64,").concat(n.b64),alt:""})]}),Object(x.jsxs)("div",{id:"product-vinyl",children:[Object(x.jsx)("span",{className:"product-artist",children:Object(x.jsx)("u",{children:n.artist})}),Object(x.jsxs)("span",{className:"product-name",children:[n.name,Object(x.jsxs)("span",{className:"product-album",children:[' from "',n.album,'"']})]}),""!==n.desc?Object(x.jsxs)("span",{className:"product-desc",children:[" ",n.desc," "]}):null,null!=n.promotion?Object(x.jsxs)("span",{className:"product-price",children:[Object(x.jsxs)("span",{className:"product-newprice",children:[n.price-n.price*n.promotion/100,"\u20ac",Object(x.jsxs)("span",{className:"product-promotion",children:[n.promotion,"%"]})]}),Object(x.jsxs)("span",{className:"product-oldprice",children:[n.price,"\u20ac"]})]}):Object(x.jsxs)("span",{className:"product-price",children:[n.price,"\u20ac"]}),n.haveAudio?Object(x.jsx)("div",{id:"product-audio-container",children:n.audiob64?Object(x.jsx)("audio",{controls:!0,className:"product-audio",src:"data:".concat(n.audiotype,";base64,").concat(n.audiob64)}):Object(x.jsx)("button",{id:"product-audio-load",onClick:function(){window.location.reload()},children:Object(x.jsx)(p.a,{icon:h.l})})}):null,n.qte>0?Object(x.jsxs)("span",{className:"product-stock",children:["Stock (",n.qte,") \u2714"]}):null,n.qte>0?Object(x.jsxs)("div",{className:"product-prebuy",children:[Object(x.jsx)(f,{persostyle:{width:"90px"},text:"Add to cart"}),Object(x.jsx)(f,{persostyle:{width:"90px"},text:"Buy"}),Object(x.jsx)(f,{persostyle:{width:"90px",background:"red"},handler:j,text:"Back"})]}):Object(x.jsxs)("div",{className:"product-prebuy",children:[Object(x.jsx)("span",{className:"product-err",children:"Out of stock"}),Object(x.jsx)(f,{persostyle:{width:"90px",background:"red"},handler:j,text:"Back"})]})]})]}):Object(x.jsx)(F,{})]})}n(107);function K(){return Object(x.jsx)("div",{id:"about-container",children:Object(x.jsx)(O,{where:"about"})})}n(108);function Q(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){g().then((function(e){return S(e.data)?(s(!0),alert("Acces autoris\xe9")):(window.location="/home",alert("Acces non autoris\xe9"))}))}),[]),Object(x.jsx)("div",{children:n?Object(x.jsxs)("div",{id:"admin-container",children:[Object(x.jsx)(O,{}),Object(x.jsxs)("div",{id:"admin-tools-links-container",children:[Object(x.jsx)("span",{id:"admin-tools-title",children:"Panneau d'administration"}),Object(x.jsx)(d.b,{class:"admin-tools-links",to:"/admin/itemcreator",children:Object(x.jsx)(f,{text:"Cr\xe9ation d'un article"})}),Object(x.jsx)(d.b,{class:"admin-tools-links",to:"/admin/promotioncreator",children:Object(x.jsx)(f,{text:"Cr\xe9ation de promotion"})})]})]}):null})}var Y=n(3),G=(n(109),n(45));function X(){var e=Object(G.a)(),t=e.register,n=e.handleSubmit,s=Object(c.useState)(null),r=Object(l.a)(s,2),a=r[0],i=r[1],o=Object(c.useState)(null),j=Object(l.a)(o,2),d=j[0],u=j[1];return Object(c.useEffect)((function(){g().then((function(e){if(!S(e.data))return window.location="/home",alert("Acces non autoris\xe9")}))}),[]),Object(x.jsxs)("div",{id:"item-creator-container",children:[Object(x.jsx)(O,{where:"admin"}),Object(x.jsxs)("div",{id:"item-creator-content",children:[Object(x.jsxs)("form",{onSubmit:n((function(e){var t=e.name,n=e.album,c=e.owner,s=e.desc,r=e.price,a=e.category,i=e.qte,o=e.image,l=e.rec;if([t,n,c,s,r,a,i,o].some((function(e){return!e})))return alert("Some fields was empty");var j=new FormData,d=new Blob([o[0]],{type:o[0].type});if(j.append("file",d),l[0]){var u=new Blob([l[0]],{type:l[0].type});j.append("audio",u)}v.a.post("/createItem?name=".concat(t,"&album=").concat(n,"&owner=").concat(c,"&desc=").concat(s,"&price=").concat(r,"&category=").concat(a,"&qte=").concat(i),j).then((function(e){return e.data.isOk?alert("Cr\xe9ation de l'article effectu\xe9 !"):alert("Erreur !")}))})),id:"item-creator-form",children:[Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"name",children:"Nom du vinyl\xa0"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("name")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"album",children:"Nom de l'album\xa0"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("album")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"owner",children:"Artiste / MD\xa0"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("owner")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"price",children:"Prix\xa0"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("price")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"desc",children:"Description"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("desc")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"cotegory",children:"Categorie"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("category")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"qte",children:"Quantit\xe9"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input"},t("qte")),{},{placeholder:"..."}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"image",children:"Image"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({type:"file"},t("image")),{},{onChange:function(e){e.preventDefault();var t=e.target.files[0],n=new FileReader;n.onloadend=function(){i(n.result)},t&&n.readAsDataURL(t)},accept:"image/*"}))]}),Object(x.jsxs)("div",{className:"item-creator-options",children:[Object(x.jsx)("label",{htmlFor:"record",children:"Audio (can be empty)"}),Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({type:"file"},t("rec")),{},{onChange:function(e){!function(e){e.preventDefault();var t=e.target.files[0],n=new FileReader;n.onloadend=function(){u(n.result)},t&&n.readAsDataURL(t)}(e)},accept:"audio/*"}))]}),Object(x.jsx)(f,{type:"submit",text:"Create"})]}),Object(x.jsxs)("div",{id:"item-creator-previews",children:[Object(x.jsx)("img",{src:a,className:"item-creator-img",alt:"Please select a pics"}),Object(x.jsx)("audio",{src:d,controls:!0})]})]})]})}n(110);function Z(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),a=Object(l.a)(r,2),i=a[0],o=a[1],j=Object(c.useState)(null),d=Object(l.a)(j,2),u=d[0],b=d[1],p=Object(G.a)(),h=p.register,m=p.handleSubmit,v=Object(c.useState)(0),w=Object(l.a)(v,2),y=w[0],N=w[1];return Object(c.useEffect)((function(){g().then((function(e){if(!S(e.data))return window.location="/home",alert("Acces non autoris\xe9");C().then((function(e){s(e)}))}))}),[]),Object(x.jsxs)("div",{id:"promotioncreator-container",children:[Object(x.jsx)(O,{}),Object(x.jsxs)("div",{id:"promotioncreator-vinyls-container",children:[null!=u?Object(x.jsxs)("div",{id:"promotioncreator-vinyls-controls",children:[Object(x.jsxs)("div",{id:"promotioncreator-vinyls-controls-info",children:[Object(x.jsx)("img",{src:"data:".concat(u.imgtype,";base64,").concat(u.b64),alt:"Selection"}),Object(x.jsxs)("span",{children:["$",u.name," ($",u.album,")"]}),y>0?Object(x.jsxs)("div",{children:[Object(x.jsxs)("span",{style:{textDecoration:"line-through",color:"red"},children:["$",u.price,"\u20ac"]}),"\xa0\u279c\xa0",Object(x.jsxs)("span",{children:["$",y,"\u20ac"]})]}):Object(x.jsxs)("span",{children:["$",u.price,"\u20ac"]})]}),Object(x.jsxs)("div",{id:"promotioncreator-vinyls-controls-settings",children:[Object(x.jsxs)("form",{onSubmit:m((function(e){if(y<=0)return alert("Promotion > 99% impossible");fetch("/setPromotion?promo=".concat(e.promotion,"&id=").concat(u.id)).then((function(e){return e?(window.location.reload(),alert("Reduction appliqu\xe9e.")):alert("Erreur.")}))})),children:[Object(x.jsx)("input",Object(Y.a)(Object(Y.a)({className:"textfields-input",type:"number",max:"100",min:"1"},h("promotion")),{},{placeholder:"Nouvelle promotion",onChange:function(e){!function(e){var t=parseInt(e.target.value),n=u.price*t/100,c=u.price-n;N(c)}(e)}})),Object(x.jsx)(f,{type:"submit",text:"OK"})]}),u.promotion>0?Object(x.jsx)(f,{persostyle:{background:"red",color:"white"},text:"Supprimer la promotion",handler:function(){fetch("/setPromotion?promo=".concat(null,"&id=",u.id)).then((function(e){return e?(window.location.reload(),alert("Reduction supprim\xe9e.")):alert("Erreur.")}))}}):null]})]}):null,Object(x.jsx)(V,{id:"promotioncreator-vinyls-search",placeholder:"Rechercher un vinyl",oc:function(e){!function(e){var t=e.target.value.toLowerCase();if(""!==t){var c=[];n.forEach((function(e){var n=e.name.toLowerCase(),s=e.album.toLowerCase(),r=e.artist.toLowerCase();(n.includes(t)||s.includes(t)||r.includes(t))&&c.push(e)})),o(c)}else o([])}(e)}}),Object(x.jsx)("div",{id:"promotioncreator-vinyls",children:i.length>0?i.map((function(e,t){return Object(x.jsxs)("div",{className:"promotioncreator-card",onClick:function(){var t;t=e.id,N(0),i.forEach((function(e){e.id===t?(e.choosing=!0,b(e),window.scrollTo(0,0)):e.choosing=!1}))},children:[Object(x.jsx)("img",{src:"data:".concat(e.imgtype,";base64,").concat(e.b64),alt:"Pochet Vinyl"}),Object(x.jsxs)("span",{className:"promotioncreator-card-name",children:["$",e.name," ($",e.album,")"]}),Object(x.jsxs)("span",{className:"promotioncreator-card-price",children:["$",e.price,"\u20ac"]}),e.promotion>0?Object(x.jsx)("span",{className:"promotioncreator-card-alreadypromotion",children:"En promotion"}):null]})})):null})]})]})}n(111);function ee(){var e={text:"Settings",label:"settings"},t={text:"Wish List",label:"wishlist"},n={text:"Admin Panel",label:"adminpanel"},s=Object(c.useState)({}),r=Object(l.a)(s,2),a=r[0],i=r[1],o=Object(c.useState)(e.label),j=Object(l.a)(o,2),d=j[0],u=j[1];function m(e){u(e)}return Object(c.useEffect)((function(){document.title="French Connection | My Account",b.a.get("token")?g().then((function(e){var t;console.log(e.created),e.date=(t=e.created,new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})),i(e.data)})):window.location="/home"}),[]),Object(x.jsxs)("div",{id:"customerinstance-container",children:[Object(x.jsx)(O,{where:"myaccount"}),Object(x.jsxs)("div",{id:"customerinstance-res",children:[Object(x.jsxs)("div",{id:"customerinstance-cat",children:[Object(x.jsx)(f,{text:e.text,persostyle:{width:"90px"},handler:function(){m(e.label)}}),Object(x.jsx)(f,{text:t.text,persostyle:{width:"90px"},handler:function(){m(t.label)}}),S(a)?Object(x.jsx)(f,{text:n.text,persostyle:{width:"90px"},handler:function(){window.location="/admin"}}):null,Object(x.jsx)(f,{text:"Log out",persostyle:{width:"90px",background:"red",color:"white"},handler:function(){b.a.remove("token"),window.location="/home"}})]}),Object(x.jsx)("div",{id:"customerinstance-settings",children:a?Object(x.jsxs)("div",{id:"customeronstance-card",children:[d===e.label?Object(x.jsxs)("div",{id:"customeronstance-card-settings",children:[Object(x.jsx)(p.a,{icon:h.g,class:"icon"}),Object(x.jsx)("span",{children:"Personal informations"}),Object(x.jsx)("div",{className:"line"}),Object(x.jsxs)("span",{children:["Pseudo ",Object(x.jsx)(p.a,{icon:h.a})," ",a.user]}),Object(x.jsxs)("span",{children:["Email ",Object(x.jsx)(p.a,{icon:h.a})," ",a.email]}),Object(x.jsxs)("span",{children:["Tel ",Object(x.jsx)(p.a,{icon:h.a})," ",a.phone]}),Object(x.jsxs)("span",{children:["Created ",Object(x.jsx)(p.a,{icon:h.a})," ",a.date]})]}):null,d===t.label?Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:t.label})}):null]}):Object(x.jsx)(F,{})})]})]})}n(112);function te(){return Object(x.jsx)("div",{id:"thursdaywall-container",children:Object(x.jsx)(O,{where:"thursdaywall"})})}function ne(){return Object(x.jsxs)(a.c,{children:[Object(x.jsx)(a.a,{path:"*",element:Object(x.jsx)(I,{})}),Object(x.jsx)(a.a,{path:"/signin",element:Object(x.jsx)($,{})}),Object(x.jsx)(a.a,{path:"/shop",element:Object(x.jsx)(J,{})}),Object(x.jsx)(a.a,{path:"/about",element:Object(x.jsx)(K,{})}),Object(x.jsx)(a.a,{path:"/shop/product",element:Object(x.jsx)(z,{})}),Object(x.jsx)(a.a,{path:"/admin",element:Object(x.jsx)(Q,{})}),Object(x.jsx)(a.a,{path:"/admin/itemcreator",element:Object(x.jsx)(X,{})}),Object(x.jsx)(a.a,{path:"/admin/promotioncreator",element:Object(x.jsx)(Z,{})}),Object(x.jsx)(a.a,{path:"/myaccount",element:Object(x.jsx)(ee,{})}),Object(x.jsx)(a.a,{path:"/thursdaywall",element:Object(x.jsx)(te,{})})]})}function ce(){return Object(x.jsx)(ne,{})}n(113);n(28).b.add(h.c,h.j,h.m,h.l),r.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(d.a,{children:Object(x.jsx)(ce,{})}))},64:function(e,t,n){},65:function(e,t,n){},69:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t){}},[[114,1,2]]]);
//# sourceMappingURL=main.35cc8a41.chunk.js.map